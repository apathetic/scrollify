/*!
 * Scrollify 1.0.3-alpha
 *
 * @link https://github.com/apathetic/scrollify
 * @copyright (c) 2021 wes hatch
 * @license MIT https://github.com/apathetic/scrollify/blob/master/LICENSE
 */
var Scrollify=function(t){"use strict";var n=function(t,n){return window.getComputedStyle(n)[t]||0},r=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.max.apply(Math,t)},e=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return Math.min.apply(Math,t)},a=function(t){return"function"==typeof t},i=function(t){return 1===t.nodeType?t:document.querySelector(t)},o=function(t){var n=t.getBoundingClientRect();return{left:n.left+window.pageXOffset,right:n.right+window.pageXOffset,top:n.top+window.pageYOffset,bottom:n.bottom+window.pageYOffset,height:n.height,width:n.width}};var u=function(t,n,r){return(n-t)*r+t},s=function(t,n,r){return(r-t)/(n-t)},c=function(t){var n=t.transforms;return function(t){return n.position[0]=t}},f=function(t){var n=t.transforms;return function(t){return n.position[1]=t}},l=function(t){var n=t.transforms;return function(t){return n.position[2]=t}},h=c,p=f,v=l,d=f,M=function(t){var n=t.transforms;return function(t){return n.rotation[2]=t}},m=M,w=function(t){var n=t.transforms;return function(t){return n.skew[0]=t}},y=w,g=Object.freeze({__proto__:null,x:c,y:f,z:l,translateX:h,translateY:p,translateZ:v,parallax:d,rotateX:function(t){var n=t.transforms;return function(t){return n.rotation[0]=t}},rotateY:function(t){var n=t.transforms;return function(t){return n.rotation[1]=t}},rotateZ:M,rotate:m,scaleX:function(t){var n=t.transforms;return function(t){return n.scale[0]=t}},scaleY:function(t){var n=t.transforms;return function(t){return n.scale[1]=t}},scale:function(t){var n=t.transforms;return function(t){return n.scale[0]=n.scale[1]=t}},skewX:w,skewY:function(t){var n=t.transforms;return function(t){return n.skew[1]=t}},skew:y,fade:function(t){var n=t.element;return function(t){n.style.opacity=t}},blur:function(t){var n=t.element;return function(t){n.style.filter="blur("+t+"px)"}},toggle:function(t){var n=t.element;return function(t){n.className=t}},stick:function(t){var n=t.element;function r(t){var r=n.__currentState;if(r!==t){if("sticky"==t){var e=n.getBoundingClientRect();n.style.top=e.top+"px",n.style.left=e.left+"px",n.style.width=e.width+"px"}else n.style.top="",n.style.left="",n.style.width="";n.classList.remove(r),n.classList.add(t),n.__currentState=t}}return function(t){r(t<=0?"normal":t>=1?"bottom":"sticky")}}});var O=Object.freeze({__proto__:null,oscillate:function(t,n,r,e){return t/=e,t=4*Math.PI*t,t=Math.sin(t)*r,(t=Math.abs(t))+n},easeInQuad:function(t,n,r,e){return r*(t/=e)*t+n},easeOutQuad:function(t,n,r,e){return-r*(t/=e)*(t-2)+n},easeInOutQuad:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(t,n,r,e){return r*(t/=e)*t*t+n},easeOutCubic:function(t,n,r,e){return r*((t=t/e-1)*t*t+1)+n},easeInOutCubic:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(t,n,r,e){return r*(t/=e)*t*t*t+n},easeOutQuart:function(t,n,r,e){return-r*((t=t/e-1)*t*t*t-1)+n},easeInOutQuart:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(t,n,r,e){return r*(t/=e)*t*t*t*t+n},easeOutQuint:function(t,n,r,e){return r*((t=t/e-1)*t*t*t*t+1)+n},easeInOutQuint:function(t,n,r,e){return(t/=e/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(t,n,r,e){return-r*Math.cos(t/e*(Math.PI/2))+r+n},easeOutSine:function(t,n,r,e){return r*Math.sin(t/e*(Math.PI/2))+n},easeInOutSine:function(t,n,r,e){return-r/2*(Math.cos(Math.PI*t/e)-1)+n},easeInExpo:function(t,n,r,e){return 0==t?n:r*Math.pow(2,10*(t/e-1))+n},easeOutExpo:function(t,n,r,e){return t==e?n+r:r*(1-Math.pow(2,-10*t/e))+n},easeInOutExpo:function(t,n,r,e){return 0==t?n:t==e?n+r:(t/=e/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(t,n,r,e){return-r*(Math.sqrt(1-(t/=e)*t)-1)+n},easeOutCirc:function(t,n,r,e){return r*Math.sqrt(1-(t=t/e-1)*t)+n},easeInOutCirc:function(t,n,r,e){return(t/=e/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(t,n,r,e){var a=1.70158,i=0,o=r;if(0==t)return n;if(1==(t/=e))return n+r;if(i||(i=.3*e),o<Math.abs(r)){o=r;a=i/4}else a=i/(2*Math.PI)*Math.asin(r/o);return-o*Math.pow(2,10*(t-=1))*Math.sin((t*e-a)*(2*Math.PI)/i)+n},easeOutElastic:function(t,n,r,e){var a=1.70158,i=0,o=r;if(0==t)return n;if(1==(t/=e))return n+r;if(i||(i=.3*e),o<Math.abs(r)){o=r;a=i/4}else a=i/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin((t*e-a)*(2*Math.PI)/i)+r+n},easeInOutElastic:function(t,n,r,e){var a=1.70158,i=0,o=r;if(0==t)return n;if(2==(t/=e/2))return n+r;if(i||(i=e*(.3*1.5)),o<Math.abs(r)){o=r;a=i/4}else a=i/(2*Math.PI)*Math.asin(r/o);return t<1?o*Math.pow(2,10*(t-=1))*Math.sin((t*e-a)*(2*Math.PI)/i)*-.5+n:o*Math.pow(2,-10*(t-=1))*Math.sin((t*e-a)*(2*Math.PI)/i)*.5+r+n},easeInBack:function(t,n,r,e,a){return null==a&&(a=1.70158),r*(t/=e)*t*((a+1)*t-a)+n},easeOutBack:function(t,n,r,e,a){return null==a&&(a=1.70158),r*((t=t/e-1)*t*((a+1)*t+a)+1)+n},easeInOutBack:function(t,n,r,e,a){return null==a&&(a=1.70158),(t/=e/2)<1?r/2*(t*t*((1+(a*=1.525))*t-a))+n:r/2*((t-=2)*t*((1+(a*=1.525))*t+a)+2)+n},easeOutBounce:function(t,n,r,e){return(t/=e<1/2.75)?r*(7.5625*t*t)+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n}});function I(t,n,r){return r[0]=t[0]*n[0]+t[1]*n[4]+t[2]*n[8]+t[3]*n[12],r[1]=t[0]*n[1]+t[1]*n[5]+t[2]*n[9]+t[3]*n[13],r[2]=t[0]*n[2]+t[1]*n[6]+t[2]*n[10]+t[3]*n[14],r[3]=t[0]*n[3]+t[1]*n[7]+t[2]*n[11]+t[3]*n[15],r[4]=t[4]*n[0]+t[5]*n[4]+t[6]*n[8]+t[7]*n[12],r[5]=t[4]*n[1]+t[5]*n[5]+t[6]*n[9]+t[7]*n[13],r[6]=t[4]*n[2]+t[5]*n[6]+t[6]*n[10]+t[7]*n[14],r[7]=t[4]*n[3]+t[5]*n[7]+t[6]*n[11]+t[7]*n[15],r[8]=t[8]*n[0]+t[9]*n[4]+t[10]*n[8]+t[11]*n[12],r[9]=t[8]*n[1]+t[9]*n[5]+t[10]*n[9]+t[11]*n[13],r[10]=t[8]*n[2]+t[9]*n[6]+t[10]*n[10]+t[11]*n[14],r[11]=t[8]*n[3]+t[9]*n[7]+t[10]*n[11]+t[11]*n[15],r[12]=t[12]*n[0]+t[13]*n[4]+t[14]*n[8]+t[15]*n[12],r[13]=t[12]*n[1]+t[13]*n[5]+t[14]*n[9]+t[15]*n[13],r[14]=t[12]*n[2]+t[13]*n[6]+t[14]*n[10]+t[15]*n[14],r[15]=t[12]*n[3]+t[13]*n[7]+t[14]*n[11]+t[15]*n[15],r}function x(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}function b(t,n){n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n[6]=t[6],n[7]=t[7],n[8]=t[8],n[9]=t[9],n[10]=t[10],n[11]=t[11],n[12]=t[12],n[13]=t[13],n[14]=t[14],n[15]=t[15]}function k(){var t=new Float32Array(16),n=new Float32Array(16),r=new Float32Array(16);return x(t),{data:t,asCSS:function(){return"matrix3d("+t.toString()+")"},clear:function(){x(t)},translate:function(e,a,i){return b(t,n),function(t,n,r,e){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=n,t[13]=r,t[14]=e,t[15]=1}(r,e,a,i),I(n,r,t),this},rotateX:function(e){var a,i;return b(t,n),i=e,(a=r)[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=Math.cos(i),a[6]=-Math.sin(i),a[7]=0,a[8]=0,a[9]=Math.sin(i),a[10]=Math.cos(i),a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,I(n,r,t),this},rotateY:function(e){var a,i;return b(t,n),i=e,(a=r)[0]=Math.cos(i),a[1]=0,a[2]=Math.sin(i),a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=-Math.sin(i),a[9]=0,a[10]=Math.cos(i),a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,I(n,r,t),this},rotateZ:function(e){var a,i;return b(t,n),i=e,(a=r)[0]=Math.cos(i),a[1]=-Math.sin(i),a[2]=0,a[3]=0,a[4]=Math.sin(i),a[5]=Math.cos(i),a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,I(n,r,t),this},scale:function(e,a){return b(t,n),function(t,n,r){t[0]=n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(r,e,a),I(n,r,t),this},skew:function(e,a){return b(t,n),function(t,n,r){t[0]=1,t[1]=Math.tan(n),t[2]=0,t[3]=0,t[4]=Math.tan(r),t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(r,e,a),I(n,r,t),this}}}var S="before",E="after",_="active";function A(t,a,i){if(void 0===a&&(a=[]),"number"==typeof t)return t;var o=window.innerWidth,u=window.innerHeight;return new Function("refs","el","css","min","max","'use strict';return ("+t.replace(/(\d*)vw/g,(function(t,n){return.01*n*o})).replace(/(\d*)vh/g,(function(t,n){return.01*n*u})).replace(/px/g,"")+");")(a,i,n,r,e)}function C(t,n,r){var e,i=Object.keys(t),o=Object.values(t);return e=t,Array.isArray(e)?(t=t.map((function(t){return A(t,n,r)})),function(n){return u.apply(void 0,t.concat([n]))}):a(o[0])?function(t){var n=0;return i.forEach((function(r){return r<t&&n++})),n?o[n-1]():""}:(o=o.map((function(t){return A(t,n,r)})),function(t){return function(t,n,r){var e=0;if(t.forEach((function(t){return t<r&&e++})),e<=0)return n[0];if(e>=t.length)return n[t.length-1];var a=e-1,i=s(t[a],t[e],r);return u(n[a],n[e],i)}(i,o,t)})}var P=function t(n){var r,e,a=this;if(!n)return document.querySelectorAll("[data-scrollify]").forEach((function(n){return new t(n)}));if(n=i(n),window.addEventListener("scroll",(function(){return a.onScroll()})),window.addEventListener("resize",(function(){return a.onResize()}),{passive:!0}),this.scenes=[],this.element=n,this.active=!0,this.matrix=k(),this.transforms=((r={}).scale=[1,1],r.rotation=[0,0,0],r.position=[0,0,0],r.skew=[0,0],r),n.dataset.scrollify){var o=(e=n.dataset.scrollify,Function("'use strict';return ("+e+")")());this.addScene(o)}};return P.prototype.addScene=function(t){var n=this,r=t.start;void 0===r&&(r="0, el.top - 100vh");var e=t.end;void 0===e&&(e="el.bottom");var u=t.easing,s=t.refs;void 0===s&&(s=[]);var c=t.effects;void 0===c&&(c={});var f=this.element,l={element:f,start:0,duration:0,state:"",easing:a(u)?u:O[u],effects:[],reset:function(){var t=window.scrollY,a=o(f),u=function(t){return t.map(i).map(o)}(s),h=A(r,u,a),p=A(e,u,a);l.effects=n.calculateEffects.call(n,c,u,a),l.start=h,l.duration=p-h,l.state=t>h?t>p?E:_:S,n.update(l)}};return l.reset(),this.useMatrix&&(f.style.willChange="transform"),t.debug&&console.log("Scrollify scene: ",l),this.scenes.push(l),this},P.prototype.calculateEffects=function(t,n,r){var e=this,i=this.element,o=this.transforms;return Object.keys(t).reduce((function(u,s){var c,f,l=t[s];if(a(l))f=l({element:i,transforms:o}),c=function(t){return t};else{f=g[s]({element:i,transforms:o}),c=C(l,n,r);var h=new RegExp("(?<scale>scale)|(?<position>x|y|z)|(?<rotation>rotate)|(?<skew>skew)/i").exec(s),p=h&&Object.keys(h.groups).filter((function(t){return h.groups[t]})).toString();f&&p&&(e.transforms[p].isActive=e.useMatrix=!0)}return u.push((function(t){return f(c(t))})),u}),[])},P.prototype.onScroll=function(){var t=this;this.active&&window.requestAnimationFrame((function(){t.scenes.forEach((function(n){return t.update(n)}),t)}))},P.prototype.onResize=function(){this.scenes.forEach((function(t){return t.reset()}))},P.prototype.update=function(t){var n,r=t.start,e=t.duration,a=t.easing,i=t.effects,o=window.scrollY;if(o-r>e){if(t.state===E)return;t.state=E,n=1}else if(o-r<0){if(t.state===S)return;t.state=S,n=0}else t.state=_,n=a?a(o-r,0,1,e):(o-r)/e;i.forEach((function(t){return t(n)})),(t.useMatrix||this.useMatrix)&&(this.element.style.transform=this.updateMatrix().asCSS())},P.prototype.updateMatrix=function(){var t=this.matrix,n=this.transforms;return t.clear(),n.transformOrigin&&t.translate(-n.transformOrigin[0],-n.transformOrigin[1],-n.transformOrigin[2]),n.scale.isActive&&t.scale(n.scale[0],n.scale[1]),n.skew.isActive&&t.skew(n.skew[0],n.skew[1]),n.rotation.isActive&&(t.rotateX(n.rotation[0]),t.rotateY(n.rotation[1]),t.rotateZ(n.rotation[2])),n.position.isActive&&t.translate(n.position[0],n.position[1],n.position[2]),n.transformOrigin&&t.translate(n.transformOrigin[0],n.transformOrigin[1],n.transformOrigin[2]),t},P.prototype.disable=function(){this.active=!1},t.Scrollify=P,t.default=P,t.easings=O,t.fx=g,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
